<div class="attach-item">
    <a href="{{ vm.CONFIG.AttachUrl }}{{ vm.message.number }}?mbox={{ vm.message.mbox }}&part=attach&screen=true&filename={{ vm.attach.fileName }}&token={{ vm.user.access_token }}&connection_id={{ vm.message.connection_id }}"
       target="_blank">
        <div>
            <div class="attach-item__image-block">
                <div class="attach-item__image"
                     ng-if="vm.attach.mime === 'image/png' || vm.attach.mime === 'image/jpeg'"
                     style="background-image: url('{{ vm.CONFIG.AttachUrl }}{{ vm.message.number }}?mbox={{ vm.message.mbox }}&part=attach&filename={{ vm.attach.fileName }}&token={{ vm.user.access_token }}&connection_id={{ vm.message.connection_id }}')"></div>
                <div class="attach-item__image"
                     ng-if="vm.attach.mime !== 'image/png' && vm.attach.mime !== 'image/jpeg'"
                     style="background-image: url('images/upload-file.png')"></div>
            </div>
            <div class="attach-item__name" ng-if="vm.attach.mime !== 'image/png' && vm.attach.mime !== 'image/jpeg'">
                <span class="attach-item__file-name">
                    {{ vm.attach.fileName }}
                </span>
            </div>
            <div class="attach-item__type">
                <span class="attach-item__type-name">
                    {{ vm.attach.mime.split('/')[1]; }}
                </span>
            </div>
            <div class="attach-item__size">
                {{ vm.attach.size / 1024 | number:2 }} kb
            </div>
            <button class="attach-item__button btn--not-style btn--not-events">
                <span class="icon-download"></span>
            </button>
        </div>
    </a>
</div>