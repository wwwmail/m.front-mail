<div class="inbox-message"
     ng-class="{'inbox-message--importmant': vm.message.important,
                'inbox-message--new': !vm.message.seen,
                'inbox-message--checked': vm.message.isChecked}"
     ng-mouseover="vm.message.hover = true" ng-mouseleave="vm.message.hover = false"
     ng-click="vm.goToUrl()"
     inbox-message-hover>

    <div class="inbox-message__left">
        <label ng-click="$event.stopPropagation();">
            <div class="inbox-message__avatar">
                <div class="avatar avatar--settings avatar--size42 avatar--second-style mrg__auto">
                    <img class="avatar__image" src="/images/avatar-personal.svg">
                    <div class="inbox-message__check-message"></div>
                    <input type="checkbox"
                           ng-model="vm.message.isChecked"
                           style="display: none;"
                           data-checklist-model="vm.messages.checked"
                           data-checklist-value="vm.message">
                </div>
            </div>
        </label>

        <div class="inbox-message__round" ng-click="vm.setSeen(); $event.stopPropagation();">
            <div class="round round--border"
                 ng-class="{'round--yellow': !vm.message.seen}"></div>
        </div>
    </div>

    <div class="inbox-message__center">
        <div class="inbox-message__head">
            <div class="inbox-message__importance" ng-if="vm.message.important">
                <span class="important-tags important-tags--active"></span>
            </div>

            <div class="inbox-message__name">
                {{ vm.message.from }}
            </div>

            <div class="inbox-message__data">
                <to-date date="vm.message.date.date" is-small="true"></to-date>
            </div>
        </div>

        <div class="inbox-message__text">
            <div class="inbox-message__subject">{{ vm.message.Subject }}</div>
            <div class="inbox-message__message">
                <div class="text-overflow" ng-bind-html="vm.message.body"></div>
            </div>
        </div>

        <div class="inbox-message__labels">
            <div class="inbox-message__label letter-tags" ng-repeat="tag in vm.message.tags track by $index"
                 style="background: {{ tag.bgcolor }};">
                <span class="letter-tags__name">{{ tag.tag_name }}</span>
                <svg class="letter-tags__icon">
                    <use xlink:href="#ico_label-message" style="fill: {{ tag.bgcolor }}"></use>
                </svg>
            </div>
        </div>
    </div>

    <div class="inbox-message__right">
        <button class="inbox-message__right-btn btn btn--size_m btn--size_28 icon-more btn--not-style btn--not-events"
                type="button"
                ng-click="vm.openMessageMenu(); $event.stopPropagation();"></button>
    </div>
</div>